<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Community</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <!-- import the webpage's stylesheet -->
        <link rel="stylesheet" href="../style.css">
        <style>

                         /* Set a style for all buttons */
                         #submitButton {
                background-color: #5A7D7C;
                color: white;
                padding: 14px 20px;
                margin: 8px 0;
                border: none;
                cursor: pointer;
                width: 10%;
                }
                   /* Full-width input fields */
                   input {
                width: 75%;
                padding: 12px 20px;
                margin: 8px 0;
                border: 1px solid #ccc;
                box-sizing: border-box;
                  }

                  #myBtn:hover {
             background-color: #555; /* Add a dark-grey background on hover */
           }
           #myBtn { 
               position: fixed; /* Fixed/sticky position */
               top: 20px; /* Place the button at the bottom of the page */
               right: 30px; /* Place the button 30px from the right */
               z-index: 99; /* Make sure it does not overlap */
               border: none; /* Remove borders */
               outline: none; /* Remove outline */
               background-color:  #5A7D7C;/* Set a background color */
               color: white; /* Text color */
               cursor: pointer; /* Add a mouse pointer on hover */
               padding: 15px; /* Some padding */
               border-radius: 10px; /* Rounded corners */
               font-size: 18px; /* Increase font size */
             }; /* Increase font size */
        </style>
        <!-- import the webpage's javascript file! -->
        <script src="../script.js" defer></script>

        <link rel="icon" href="../images/banana_large.png">
    </head>
    
    <body onload="startUp();">
        <p>
            <button onclick="signOut()" id="myBtn" style="display: block;">Map</button>
        </p>
        <center> <h1> Share your tips & feedback!</h1></center>
            <center><div class="feedback"> 
             <input placeholder= "Would you like to share any travel tips or feedback?" id = "input">
             <button onclick = "uploadData()" id="submitButton" style ="display:inline"=>
                 Submit 
             </button></center>
         </div>    
         <p>
      
            <center><h2>Community Discussion on Los Angeles, California:</h2></center>
            <ul id="list" text-align: left>
              
          </ul>
          </p>

             <!-- The core Firebase JS SDK is always required and must be listed first -->
           <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-app.js"></script>
         
         <!-- TODO: Add SDKs for Firebase products that you want to use
              https://firebase.google.com/docs/web/setup#available-libraries -->
              <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-auth.js"></script>
              <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-firestore.js"></script>
         
         <script>
           // Your web app's Firebase configuration
           var firebaseConfig = {
             apiKey: "AIzaSyBkmFFdhRFllv8vNwdUJ_SbUl4QYtd5bsc",
             authDomain: "hack-socal.firebaseapp.com",
             databaseURL: "https://hack-socal.firebaseio.com",
             projectId: "hack-socal",
             storageBucket: "hack-socal.appspot.com",
             messagingSenderId: "331735296491",
             appId: "1:331735296491:web:0c84981e1b074a013a51ae"
           };
           // Initialize Firebase
           firebase.initializeApp(firebaseConfig);
         </script>
         
         <script>
           function startUp()
           {
            firebase.firestore().collection('LA,CA').onSnapshot(function (snapshot) {
            let newList = '';

            snapshot.forEach(function (document) {
              newList += '<li>' + document.data().text + '</li>';
            })

            document.getElementById('list').innerHTML = newList;
          })
           }
           function uploadData()
           {
             let element = document.getElementById("input").value;
             firebase.firestore().collection("LA,CA").add({
               text:element
             });
             firebase.firestore().collection('LA,CA').onSnapshot(function (snapshot) {
            let newList = '';

            snapshot.forEach(function (document) {
              newList += '<li>' + document.data().text + '</li>';
            })

            document.getElementById('list').innerHTML = newList;
          })}
        </script>         
           </body>
 </html>
    </body>
</html>